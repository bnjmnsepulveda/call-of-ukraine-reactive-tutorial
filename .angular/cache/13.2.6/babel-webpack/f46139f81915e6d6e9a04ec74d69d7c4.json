{"ast":null,"code":"import { interval, map } from 'rxjs';\nimport { ReactiveComponent } from 'src/app/presentation/shared/utils/ReactiveComponent';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\n\nfunction WhacAMoleComponent_ng_template_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵlistener(\"click\", function WhacAMoleComponent_ng_template_9_Template_div_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const square_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return ctx_r2.hitTarget(square_r1);\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const square_r1 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"id\", square_r1.id);\n    i0.ɵɵproperty(\"ngClass\", square_r1.selected ? \"square mole\" : \"square\");\n  }\n}\n\nexport class WhacAMoleComponent extends ReactiveComponent {\n  constructor() {\n    super();\n    this.selectedSquare = 0;\n    this.hitPosition = 0;\n    this.targets = null;\n    this.hits = 0;\n  }\n\n  ngOnInit() {\n    this.selectedSquare = 2;\n    this.targets = interval(500).pipe(map(() => Math.floor(Math.random() * 9)), map(randomIndex => this.getSquares(randomIndex)));\n  }\n\n  ngOnDestroy() {}\n\n  hitTarget(target) {\n    console.log('target-hit', target.selected);\n\n    if (target.selected) {\n      this.hits++;\n    }\n  }\n\n  getSquares(x) {\n    const randomIndex = x;\n    const indexes = [1, 2, 3, 4, 5, 6, 7, 8, 9];\n    return indexes.map(id => ({\n      id,\n      selected: id === randomIndex\n    }));\n  }\n\n}\n\nWhacAMoleComponent.ɵfac = function WhacAMoleComponent_Factory(t) {\n  return new (t || WhacAMoleComponent)();\n};\n\nWhacAMoleComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: WhacAMoleComponent,\n  selectors: [[\"app-whac-a-mole\"]],\n  features: [i0.ɵɵInheritDefinitionFeature],\n  decls: 11,\n  vars: 4,\n  consts: [[\"id\", \"score\"], [\"id\", \"time-left\"], [1, \"grid\"], [\"ngFor\", \"\", 3, \"ngForOf\"], [3, \"ngClass\", \"id\", \"click\"]],\n  template: function WhacAMoleComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h2\");\n      i0.ɵɵtext(1, \"Your score:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"h2\", 0);\n      i0.ɵɵtext(3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"h2\");\n      i0.ɵɵtext(5, \"Time Left:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"h2\", 1);\n      i0.ɵɵtext(7, \"60\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"div\", 2);\n      i0.ɵɵtemplate(9, WhacAMoleComponent_ng_template_9_Template, 1, 2, \"ng-template\", 3);\n      i0.ɵɵpipe(10, \"async\");\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate(ctx.hits);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(10, 2, ctx.targets));\n    }\n  },\n  directives: [i1.NgForOf, i1.NgClass],\n  pipes: [i1.AsyncPipe],\n  styles: [\".grid[_ngcontent-%COMP%] {\\n      width: 606px;\\n      height: 606px;\\n      display: flex;\\n      flex-wrap: wrap;\\n    }\\n\\n    .square[_ngcontent-%COMP%] {\\n      height: 200px;\\n      width: 200px;\\n      border: solid black 1px;\\n    }\\n\\n    .mole[_ngcontent-%COMP%] {\\n      background-image: url(\\\"assets/mole.jpg\\\");\\n      background-size: cover;\\n    }\"]\n});","map":{"version":3,"sources":["/Users/benjamin/Documents/repositories/learning/reactive-programming-workshop/call-of-ukraine-frontend/src/app/presentation/pages/game/component/whac-a-mole/whac-a-mole.component.ts"],"names":["interval","map","ReactiveComponent","i0","i1","WhacAMoleComponent_ng_template_9_Template","rf","ctx","_r3","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","WhacAMoleComponent_ng_template_9_Template_div_click_0_listener","restoredCtx","ɵɵrestoreView","square_r1","$implicit","ctx_r2","ɵɵnextContext","hitTarget","ɵɵelementEnd","ɵɵpropertyInterpolate","id","ɵɵproperty","selected","WhacAMoleComponent","constructor","selectedSquare","hitPosition","targets","hits","ngOnInit","pipe","Math","floor","random","randomIndex","getSquares","ngOnDestroy","target","console","log","x","indexes","ɵfac","WhacAMoleComponent_Factory","t","ɵcmp","ɵɵdefineComponent","type","selectors","features","ɵɵInheritDefinitionFeature","decls","vars","consts","template","WhacAMoleComponent_Template","ɵɵtext","ɵɵtemplate","ɵɵpipe","ɵɵadvance","ɵɵtextInterpolate","ɵɵpipeBind1","directives","NgForOf","NgClass","pipes","AsyncPipe","styles"],"mappings":"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","sourcesContent":["import { interval, map } from 'rxjs';\nimport { ReactiveComponent } from 'src/app/presentation/shared/utils/ReactiveComponent';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nfunction WhacAMoleComponent_ng_template_9_Template(rf, ctx) { if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵlistener(\"click\", function WhacAMoleComponent_ng_template_9_Template_div_click_0_listener() { const restoredCtx = i0.ɵɵrestoreView(_r3); const square_r1 = restoredCtx.$implicit; const ctx_r2 = i0.ɵɵnextContext(); return ctx_r2.hitTarget(square_r1); });\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const square_r1 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"id\", square_r1.id);\n    i0.ɵɵproperty(\"ngClass\", square_r1.selected ? \"square mole\" : \"square\");\n} }\nexport class WhacAMoleComponent extends ReactiveComponent {\n    constructor() {\n        super();\n        this.selectedSquare = 0;\n        this.hitPosition = 0;\n        this.targets = null;\n        this.hits = 0;\n    }\n    ngOnInit() {\n        this.selectedSquare = 2;\n        this.targets = interval(500).pipe(map(() => Math.floor(Math.random() * 9)), map(randomIndex => this.getSquares(randomIndex)));\n    }\n    ngOnDestroy() {\n    }\n    hitTarget(target) {\n        console.log('target-hit', target.selected);\n        if (target.selected) {\n            this.hits++;\n        }\n    }\n    getSquares(x) {\n        const randomIndex = x;\n        const indexes = [1, 2, 3, 4, 5, 6, 7, 8, 9];\n        return indexes.map(id => ({\n            id,\n            selected: id === randomIndex\n        }));\n    }\n}\nWhacAMoleComponent.ɵfac = function WhacAMoleComponent_Factory(t) { return new (t || WhacAMoleComponent)(); };\nWhacAMoleComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: WhacAMoleComponent, selectors: [[\"app-whac-a-mole\"]], features: [i0.ɵɵInheritDefinitionFeature], decls: 11, vars: 4, consts: [[\"id\", \"score\"], [\"id\", \"time-left\"], [1, \"grid\"], [\"ngFor\", \"\", 3, \"ngForOf\"], [3, \"ngClass\", \"id\", \"click\"]], template: function WhacAMoleComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵelementStart(0, \"h2\");\n        i0.ɵɵtext(1, \"Your score:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"h2\", 0);\n        i0.ɵɵtext(3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"h2\");\n        i0.ɵɵtext(5, \"Time Left:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"h2\", 1);\n        i0.ɵɵtext(7, \"60\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"div\", 2);\n        i0.ɵɵtemplate(9, WhacAMoleComponent_ng_template_9_Template, 1, 2, \"ng-template\", 3);\n        i0.ɵɵpipe(10, \"async\");\n        i0.ɵɵelementEnd();\n    } if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(ctx.hits);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(10, 2, ctx.targets));\n    } }, directives: [i1.NgForOf, i1.NgClass], pipes: [i1.AsyncPipe], styles: [\".grid[_ngcontent-%COMP%] {\\n      width: 606px;\\n      height: 606px;\\n      display: flex;\\n      flex-wrap: wrap;\\n    }\\n\\n    .square[_ngcontent-%COMP%] {\\n      height: 200px;\\n      width: 200px;\\n      border: solid black 1px;\\n    }\\n\\n    .mole[_ngcontent-%COMP%] {\\n      background-image: url(\\\"assets/mole.jpg\\\");\\n      background-size: cover;\\n    }\"] });\n"]},"metadata":{},"sourceType":"module"}
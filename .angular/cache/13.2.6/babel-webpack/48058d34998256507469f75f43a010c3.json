{"ast":null,"code":"import { interval, map } from 'rxjs';\nimport { ReactiveComponent } from 'src/app/presentation/shared/utils/ReactiveComponent';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\n\nfunction WhacAMoleComponent_ng_template_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵlistener(\"click\", function WhacAMoleComponent_ng_template_9_Template_div_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const square_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return ctx_r2.hitTarget(square_r1.id);\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const square_r1 = ctx.$implicit;\n    i0.ɵɵclassMap(square_r1.classname);\n    i0.ɵɵpropertyInterpolate(\"id\", square_r1.id);\n  }\n}\n\nexport class WhacAMoleComponent extends ReactiveComponent {\n  constructor() {\n    super();\n    this.squares = [1, 2, 3, 4, 5, 6, 7, 8, 9];\n    this.selectedSquare = 0;\n    this.hitPosition = 0;\n    this.timerId = null;\n    this.target = null;\n  }\n\n  ngOnInit() {\n    this.selectedSquare = 2;\n    this.target = interval(500).pipe(map(() => Math.floor(Math.random() * 9)), map(randomIndex => this.getSquares(randomIndex)));\n  }\n\n  ngOnDestroy() {\n    clearInterval(this.timerId);\n  }\n\n  hitTarget(square) {\n    console.log('target-hit', square);\n  }\n\n  getSquares(randomIndex) {\n    const indexes = [1, 2, 3, 4, 5, 6, 7, 8, 9];\n    return indexes.map(id => ({\n      id,\n      classname: id === randomIndex ? 'square mole' : 'square'\n    }));\n  }\n\n}\n\nWhacAMoleComponent.ɵfac = function WhacAMoleComponent_Factory(t) {\n  return new (t || WhacAMoleComponent)();\n};\n\nWhacAMoleComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: WhacAMoleComponent,\n  selectors: [[\"app-whac-a-mole\"]],\n  features: [i0.ɵɵInheritDefinitionFeature],\n  decls: 11,\n  vars: 3,\n  consts: [[\"id\", \"score\"], [\"id\", \"time-left\"], [1, \"grid\"], [\"ngFor\", \"\", 3, \"ngForOf\"], [3, \"id\", \"click\"]],\n  template: function WhacAMoleComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h2\");\n      i0.ɵɵtext(1, \"Your score:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"h2\", 0);\n      i0.ɵɵtext(3, \"0\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"h2\");\n      i0.ɵɵtext(5, \"Time Left:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"h2\", 1);\n      i0.ɵɵtext(7, \"60\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"div\", 2);\n      i0.ɵɵtemplate(9, WhacAMoleComponent_ng_template_9_Template, 1, 4, \"ng-template\", 3);\n      i0.ɵɵpipe(10, \"async\");\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(10, 1, ctx.target));\n    }\n  },\n  directives: [i1.NgForOf],\n  pipes: [i1.AsyncPipe],\n  styles: [\".grid[_ngcontent-%COMP%] {\\n      width: 606px;\\n      height: 606px;\\n      display: flex;\\n      flex-wrap: wrap;\\n    }\\n\\n    .square[_ngcontent-%COMP%] {\\n      height: 200px;\\n      width: 200px;\\n      border: solid black 1px;\\n    }\\n\\n    .mole[_ngcontent-%COMP%] {\\n      background-image: url(\\\"assets/mole.jpg\\\");\\n      background-size: cover;\\n    }\"]\n});","map":{"version":3,"sources":["/Users/benjamin/Documents/repositories/learning/reactive-programming-workshop/call-of-ukraine-frontend/src/app/presentation/pages/game/component/whac-a-mole/whac-a-mole.component.ts"],"names":["interval","map","ReactiveComponent","i0","i1","WhacAMoleComponent_ng_template_9_Template","rf","ctx","_r3","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","WhacAMoleComponent_ng_template_9_Template_div_click_0_listener","restoredCtx","ɵɵrestoreView","square_r1","$implicit","ctx_r2","ɵɵnextContext","hitTarget","id","ɵɵelementEnd","ɵɵclassMap","classname","ɵɵpropertyInterpolate","WhacAMoleComponent","constructor","squares","selectedSquare","hitPosition","timerId","target","ngOnInit","pipe","Math","floor","random","randomIndex","getSquares","ngOnDestroy","clearInterval","square","console","log","indexes","ɵfac","WhacAMoleComponent_Factory","t","ɵcmp","ɵɵdefineComponent","type","selectors","features","ɵɵInheritDefinitionFeature","decls","vars","consts","template","WhacAMoleComponent_Template","ɵɵtext","ɵɵtemplate","ɵɵpipe","ɵɵadvance","ɵɵproperty","ɵɵpipeBind1","directives","NgForOf","pipes","AsyncPipe","styles"],"mappings":"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","sourcesContent":["import { interval, map } from 'rxjs';\nimport { ReactiveComponent } from 'src/app/presentation/shared/utils/ReactiveComponent';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nfunction WhacAMoleComponent_ng_template_9_Template(rf, ctx) { if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵlistener(\"click\", function WhacAMoleComponent_ng_template_9_Template_div_click_0_listener() { const restoredCtx = i0.ɵɵrestoreView(_r3); const square_r1 = restoredCtx.$implicit; const ctx_r2 = i0.ɵɵnextContext(); return ctx_r2.hitTarget(square_r1.id); });\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const square_r1 = ctx.$implicit;\n    i0.ɵɵclassMap(square_r1.classname);\n    i0.ɵɵpropertyInterpolate(\"id\", square_r1.id);\n} }\nexport class WhacAMoleComponent extends ReactiveComponent {\n    constructor() {\n        super();\n        this.squares = [1, 2, 3, 4, 5, 6, 7, 8, 9];\n        this.selectedSquare = 0;\n        this.hitPosition = 0;\n        this.timerId = null;\n        this.target = null;\n    }\n    ngOnInit() {\n        this.selectedSquare = 2;\n        this.target = interval(500).pipe(map(() => Math.floor(Math.random() * 9)), map(randomIndex => this.getSquares(randomIndex)));\n    }\n    ngOnDestroy() {\n        clearInterval(this.timerId);\n    }\n    hitTarget(square) {\n        console.log('target-hit', square);\n    }\n    getSquares(randomIndex) {\n        const indexes = [1, 2, 3, 4, 5, 6, 7, 8, 9];\n        return indexes.map(id => ({\n            id,\n            classname: id === randomIndex ? 'square mole' : 'square'\n        }));\n    }\n}\nWhacAMoleComponent.ɵfac = function WhacAMoleComponent_Factory(t) { return new (t || WhacAMoleComponent)(); };\nWhacAMoleComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: WhacAMoleComponent, selectors: [[\"app-whac-a-mole\"]], features: [i0.ɵɵInheritDefinitionFeature], decls: 11, vars: 3, consts: [[\"id\", \"score\"], [\"id\", \"time-left\"], [1, \"grid\"], [\"ngFor\", \"\", 3, \"ngForOf\"], [3, \"id\", \"click\"]], template: function WhacAMoleComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵelementStart(0, \"h2\");\n        i0.ɵɵtext(1, \"Your score:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"h2\", 0);\n        i0.ɵɵtext(3, \"0\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"h2\");\n        i0.ɵɵtext(5, \"Time Left:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"h2\", 1);\n        i0.ɵɵtext(7, \"60\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"div\", 2);\n        i0.ɵɵtemplate(9, WhacAMoleComponent_ng_template_9_Template, 1, 4, \"ng-template\", 3);\n        i0.ɵɵpipe(10, \"async\");\n        i0.ɵɵelementEnd();\n    } if (rf & 2) {\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(10, 1, ctx.target));\n    } }, directives: [i1.NgForOf], pipes: [i1.AsyncPipe], styles: [\".grid[_ngcontent-%COMP%] {\\n      width: 606px;\\n      height: 606px;\\n      display: flex;\\n      flex-wrap: wrap;\\n    }\\n\\n    .square[_ngcontent-%COMP%] {\\n      height: 200px;\\n      width: 200px;\\n      border: solid black 1px;\\n    }\\n\\n    .mole[_ngcontent-%COMP%] {\\n      background-image: url(\\\"assets/mole.jpg\\\");\\n      background-size: cover;\\n    }\"] });\n"]},"metadata":{},"sourceType":"module"}